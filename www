#!/bin/bash
# abstract: browser launcher

# qutebrowser "$@"
# exit

if [[ $(pgrep i3) ]]; then
  # non-flatpak version
  # cd ~/dev/qutebrowser
  # ~/dev/qutebrowser/.venv/bin/python3 -m qutebrowser "$@"
  # exit

  vivaldi --ignore-certificate-errors --new-window http://192.168.1.97:3000/
  exit

  # flatpak version with proprietary codecs
  # flatpak run org.qutebrowser.qutebrowser "$@"
  # exit
fi
# if i3 is running, we do not need all the shenanigans with the screen profiles
#if [[ $(pgrep i3) ]]; then
#  firefox "$@"
#  exit

# export GTK_THEME=japh
# export GTK_FONT_NAME="Monospace 10"
# export GTK_FILE_CHOOSER_DEFAULT_SIZE="900x600"


# vivaldi --new-window http://192.168.1.97:3000/ "$@"
# exit
#fi

# if [[ $(hostname) = "x1" ]]; then
#   # current screen number of the active monitor
#   active_monitor=$(sdorfehs -c sdump|sed -E 's/,/\n/g'|grep -P ' 1$'|awk '{print $2}')
#
#   if [[ $active_monitor = 1 ]]; then
#     # middle monitor, use vscreen profiles
#     fx_vscreen_profiles "$@"
#   else
#     fx_screen_profiles "$@"
#   fi
# elif [[ $(hostname) = "fantomen" ]]; then
#
#   # current screen number of the active monitor
#   # 2 = middle
#   CURRENT_SCREEN=$(sdorfehs -c sdump|sed -E 's/,/\n/g'|grep -P ' 1$'|awk '{print $2}')
#
#   # if we are on the middle screen we want to use the vscreen profiles on the
#   # other monitors we can use the screen_profiles since vscreens are hardly
#   # used there
#   if [[ $CURRENT_SCREEN == 2 ]]; then
#     echo $CURRENT_SCREEN
#     fx_vscreen_profiles "$@"
#   else
#     fx_screen_profiles "$@"
#   fi
# else
#     firefox
# fi
#
# remember to execute add_userchrome_to_all_profiles.zsh once done
